import { NextRequest, NextResponse } from 'next/server';import { Resend } from 'resend';const resend = new Resend(process.env.RESEND_API_KEY);const toEmail = process.env.CONTACT_EMAIL;export async function POST(req: NextRequest) {  try {    const body = await req.json();    const { name, email, message } = body;    if (!name || !email || !message) {      return NextResponse.json({ error: 'Missing required fields' }, { status: 400 });    }    if (!toEmail) {      console.error('CONTACT_EMAIL environment variable is not set.');      return NextResponse.json({ error: 'Server configuration error' }, { status: 500 });    }    const { data, error } = await resend.emails.send({      from: 'onboarding@resend.dev',      to: [toEmail],      subject: `ポートフォリオサイトからのお問い合わせ`,      replyTo: email,      html: `        <p><strong>名前:</strong> ${name}</p>        <p><strong>メールアドレス:</strong> ${email}</p>        <p><strong>メッセージ:</strong></p>        <p>${message.replace(/\n/g, '<br>')}</p>      `,    });    if (error) {      console.error('Resend API error:', error);      return NextResponse.json({ error: 'Failed to send email' }, { status: 500 });    }    return NextResponse.json({ message: 'Email sent successfully' }, { status: 200 });  } catch (e) {    console.error('API Route error:', e);    return NextResponse.json({ error: 'Internal Server Error' }, { status: 500 });  }}